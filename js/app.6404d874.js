(function(t){function e(e){for(var o,r,s=e[0],u=e[1],c=e[2],d=0,h=[];d<s.length;d++)r=s[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&h.push(i[r][0]),i[r]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(t[o]=u[o]);l&&l(e);while(h.length)h.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],o=!0,s=1;s<n.length;s++){var u=n[s];0!==i[u]&&(o=!1)}o&&(a.splice(e--,1),t=r(r.s=n[0]))}return t}var o={},i={app:0},a=[];function r(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=o,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var l=u;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var o=n("8a23"),i=n.n(o);i.a},"0a12":function(t,e,n){t.exports=n.p+"img/sad.8ad53148.svg"},"0fe4":function(t,e,n){"use strict";var o=n("ae13"),i=n.n(o);i.a},"1ae4":function(t,e,n){t.exports=n.p+"img/logo.ca63028c.svg"},2792:function(t,e,n){t.exports=n.p+"img/happy.7230520a.svg"},2836:function(t,e,n){"use strict";var o=n("d4fa"),i=n.n(o);i.a},"39cf":function(t,e,n){t.exports=n.p+"img/wow.a1c23d6b.svg"},"439d":function(t,e,n){t.exports=n.p+"img/google_logo.3ec228d3.svg"},"4e6e":function(t,e,n){},5080:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[t.loaded?o("v-app",[o("AutoSnackbar",{attrs:{text:t.error,color:"error"}}),"/"!==t.$route.path?o("v-app-bar",{attrs:{app:"",color:"green lighten-1",dark:""}},[o("img",{staticClass:"pointer",attrs:{src:n("1ae4"),width:"35px"}}),o("v-toolbar-title",{staticStyle:{"font-family":"'Roboto'"},on:{click:t.homeRedirect}},[o("span",{staticClass:"pointer",attrs:{id:"main-logo"}},[t._v("INTELLECTURE")]),t._v(" Student")]),o("v-spacer"),t.authUser?o("v-menu",{attrs:{"offset-y":"","close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[o("v-btn",t._g({attrs:{icon:""}},n),[o("v-avatar",[o("UserAvatarContent",{attrs:{user:t.authUser}})],1)],1)]}}],null,!1,2186709333)},[o("v-list",[o("v-list-item",[o("v-list-item-title",[o("strong",[t._v(t._s(t.authUser.first_name+" "+t.authUser.last_name))])])],1),o("v-divider"),o("v-list-item",{on:{click:t.signOut}},[o("v-list-item-title",{staticClass:"red--text"},[t._v("Sign Out")])],1)],1)],1):t._e()],1):t._e(),o("v-content",[o("router-view")],1)],1):t._e(),o("LoadingScreen",{attrs:{show:!t.loaded}})],1)},a=[],r=(n("caad"),n("b0c0"),n("ac1f"),n("5319"),n("5530")),s=n("59ca"),u=n.n(s),c=(n("ea7b"),n("2f62")),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.user.photo?n("img",{attrs:{src:t.user.photo,alt:t.user.first_name}}):n("span",{staticClass:"white--text headline"},[t._v(t._s(t.user.first_name[0]))])},d=[],h={name:"UserAvatarContent",props:{user:Object}},f=h,p=n("2877"),m=Object(p["a"])(f,l,d,!1,null,null,null),v=m.exports,g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-snackbar",{attrs:{top:"",color:t.color},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[t._v(" "+t._s(t.text)+" "),n("v-btn",{attrs:{text:""},on:{click:function(e){t.show=!1}}},[t._v(" Close ")])],1)},b=[],y={name:"AutoSnackbar",props:{text:{type:String,default:""},color:{type:String,default:""}},data:function(){return{show:!1}},created:function(){},watch:{text:{immediate:!0,handler:function(t){this.show=!!t}}}},w=y,_=n("6544"),k=n.n(_),x=n("8336"),T=n("2db4"),C=Object(p["a"])(w,g,b,!1,null,null,null),S=C.exports;k()(C,{VBtn:x["a"],VSnackbar:T["a"]});var V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"_green",style:{position:"absolute",top:t.show?"0":"-100%",left:"0",width:"100%",height:"100%","z-index":"99",transition:"top .5s ease"}})},I=[],q={name:"LoadingScreen",props:{show:{type:Boolean,required:!0}}},A=q,U=Object(p["a"])(A,V,I,!1,null,null,null),$=U.exports;n("d3b7"),n("2532");o["a"].use(c["a"]);var D=new c["a"].Store({state:{authUser:null},mutations:{setAuthUser:function(t,e){t.authUser=e}},actions:{},modules:{}}),O="https://api.intellecture.app";function R(t){return t.includes("http")||(t=O+t),fetch(t,{credentials:"include"}).then((function(t){return t.json()}))}function j(t,e){return t.includes("http")||(t=O+t),window.fetch(t,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(t){return t.json()}))}function E(t){return t.getIdToken(!0).then((function(t){return j("/auth/signin",{firebase_token:t})}))}function Q(){var t=new u.a.auth.GoogleAuthProvider;return u.a.auth().signInWithPopup(t).then((function(t){return E(t.user)})).then((function(t){if(!t.success)throw t;return R("/auth/profile")})).then((function(t){if(!t.success)throw t;D.commit("setAuthUser",t.data)}))}function B(){return R("/auth/signout").then((function(t){if(!t.success)throw t;D.commit("setAuthUser",null)}))}var L={name:"App",data:function(){return{error:"",loaded:!1}},created:function(){var t=this;R("/auth/profile").then((function(e){e.success?t.$store.commit("setAuthUser",e.data):t.$store.commit("setAuthUser",null),t.redirectAuthUser(),t.loaded=!0})).catch((function(e){t.$store.commit("setAuthUser",null),t.redirectAuthUser(),t.loaded=!0}))},components:{UserAvatarContent:v,AutoSnackbar:S,LoadingScreen:$},watch:{$route:function(t){this.redirectAuthUser()},authUser:function(t){this.redirectAuthUser()}},computed:Object(r["a"])({},Object(c["b"])(["authUser"])),methods:{signOut:function(){var t=this;B().then((function(){"Room"===t.$route.name&&t.$router.replace({name:"Join"})})).catch((function(e){t.error="There was an error signing out!"}))},redirectAuthUser:function(){var t=["Feedback"];this.authUser||t.includes(this.$route.name)&&this.$router.replace({name:"Join"})},homeRedirect:function(){this.$router.push({name:"Join"})}}},F=L,P=(n("034f"),n("a307"),n("7496")),N=n("40dc"),H=n("8212"),J=n("a75b"),M=n("ce7e"),W=n("8860"),z=n("da13"),G=n("5d23"),X=n("e449"),K=n("2fa4"),Y=n("2a7f"),Z=Object(p["a"])(F,i,a,!1,null,"2e784de9",null),tt=Z.exports;k()(Z,{VApp:P["a"],VAppBar:N["a"],VAvatar:H["a"],VBtn:x["a"],VContent:J["a"],VDivider:M["a"],VList:W["a"],VListItem:z["a"],VListItemTitle:G["b"],VMenu:X["a"],VSpacer:K["a"],VToolbarTitle:Y["a"]});var et=n("8c4f"),nt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",{staticClass:"fill-height _green",attrs:{fluid:""}},[o("AutoSnackbar",{attrs:{text:t.currentError,color:"error"}}),o("AutoSnackbar",{attrs:{text:t.currentInfo,color:"info"}}),o("v-row",{staticClass:"fill-height",attrs:{justify:"center",align:"center"}},[o("v-col",{attrs:{cols:"12",sm:"8",md:"6",lg:"4"}},[o("v-expand-transition",[o("img",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],attrs:{src:n("f5de"),id:"logo"},on:{dragstart:function(t){return t.preventDefault()}}})]),o("v-card",{staticClass:"mt-3"},[o("v-card-title",{staticClass:"font-weight-bold"},[t._v("Join Room")]),o("v-card-text",{attrs:{align:"center"}},[o("v-form",{ref:"form",attrs:{"lazy-validation":""},on:{submit:t.join},model:{value:t.validForm,callback:function(e){t.validForm=e},expression:"validForm"}},[o("v-text-field",{class:t.validForm?"mb-n3":"",attrs:{label:"Room Code",rules:t.roomCodeRules,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",outlined:""},on:{input:t.roomCodeInput},model:{value:t.roomCode,callback:function(e){t.roomCode=e},expression:"roomCode"}}),o("ButtonWithImage",{attrs:{color:t.colors._green_2,dark:!0,text:t.btnText,src:t.btnImageSrc,isAvatar:null!==t.authUser},on:{click:t.join}})],1),t.authUser?o("div",{staticClass:"mt-2"},[t._v("Not you? ("),o("a",{attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.signOut(e)}}},[t._v("Sign out")]),t._v(")")]):t._e()],1)],1)],1)],1)],1)},ot=[],it=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-btn",{attrs:{color:t.color,dark:t.dark},on:{click:t.onClick}},[t.showImage?[t.isAvatar?n("v-avatar",{attrs:{height:"2em",width:"2em"}},[n("img",{attrs:{src:t.src}})]):n("v-img",{staticClass:"btn-img mr-2 float-left",class:(t.dark,""),attrs:{src:t.src,contain:"","max-height":"2em","max-width":"2em",height:"2em",width:"2em",transition:"scale-transition"}})]:t._e(),n("span",{staticClass:"btn-text"},[t._v(t._s(t.text))])],2)},at=[],rt={name:"ButtonWithImage",props:{src:{type:String,required:!0},text:{type:String,required:!0},color:{type:String,default:""},dark:{type:Boolean,default:!1},isAvatar:{type:Boolean,default:!1},showImage:{type:Boolean,default:!0}},methods:{onClick:function(t){this.$emit("click",t)}}},st=rt,ut=(n("2836"),n("adda")),ct=Object(p["a"])(st,it,at,!1,null,"49bf0d06",null),lt=ct.exports;k()(ct,{VAvatar:H["a"],VBtn:x["a"],VImg:ut["a"]});var dt={_green_dark_2:"#62a87cff",_green_dark:"#65bb6aff",_green:"#81c784ff",_green_2:"#aed581ff",_green_light:"#aae691ff",_green_light_2:"#d3f6dbff"},ht={name:"Join",props:{error:{type:String,default:""},info:{type:String,default:""}},components:{ButtonWithImage:lt,AutoSnackbar:S},watch:{authUser:{immediate:!0,handler:function(t){t?(this.btnText="Continue as ".concat(t.first_name),this.btnImageSrc=t.photo):(this.btnText="Continue with Google",this.btnImageSrc=n("e56f"))}}},data:function(){var t=this;return{colors:dt,show:!1,validForm:!0,roomCode:"",validRoomCode:!0,btnText:"Continue with Google",btnImageSrc:n("e56f"),roomCodeRules:[function(t){return!!t||"Please enter a room code."},function(e){return t.validRoomCode||"Invalid room code!"}],snackbar:!1,currentError:"",currentInfo:""}},mounted:function(){var t=this;setTimeout((function(){t.show=!0}),100),this.currentError=this.error,this.currentInfo=this.info},computed:Object(r["a"])({},Object(c["b"])(["authUser"])),methods:{roomCodeInput:function(){this.validRoomCode=!0,this.$refs["form"].validate()},join:function(t){var e=this;t.preventDefault(),this.$refs["form"].validate(),this.roomCode&&(this.roomCode=this.roomCode.toLowerCase(),this.authUser?this.redirectToRoom():(this.currentError="",Q().then((function(t){e.redirectToRoom()})).catch((function(t){e.currentError="There was an error signing in! Please try again later."}))))},redirectToRoom:function(){var t=this;this.validRoomCode=!0,this.$refs["form"].validate(),this.currentError="",R("/lectures/exists/".concat(this.roomCode)).then((function(e){if(!e.success)throw e.error;e.data.exists?t.$router.push({name:"Room",params:{id:t.roomCode}}):(t.validRoomCode=!1,t.$refs["form"].validate())})).catch((function(e){t.currentError="Could not join room!"}))},signOut:function(){var t=this;this.currentError="",B().catch((function(e){t.currentError="There was an error signing out!"}))}}},ft=ht,pt=(n("0fe4"),n("b0af")),mt=n("99d9"),vt=n("62ad"),gt=n("a523"),bt=n("0789"),yt=n("4bd4"),wt=n("0fd9"),_t=n("8654"),kt=Object(p["a"])(ft,nt,ot,!1,null,"2d795992",null),xt=kt.exports;k()(kt,{VCard:pt["a"],VCardText:mt["b"],VCardTitle:mt["c"],VCol:vt["a"],VContainer:gt["a"],VExpandTransition:bt["a"],VForm:yt["a"],VRow:wt["a"],VTextField:_t["a"]});var Tt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"fill-height"},[o("AutoSnackbar",{attrs:{text:t.error,color:"error"}}),o("v-overlay",{attrs:{value:!t.authUser,opacity:"0.7",dark:!1}},[o("NotSignedIn")],1),t.lectureInfo?o("v-container",{staticClass:"fill-height",staticStyle:{"padding-top":"10vh !important"},attrs:{fluid:""}},[o("v-row",{staticClass:"fill-height",attrs:{justify:"center"}},[o("v-col",{staticClass:"fill-height",attrs:{cols:"12",sm:"8",md:"6",lg:"4"}},[o("div",{staticClass:"fill-height",attrs:{id:"flex-container"}},[o("TutorialDisplay",{attrs:{show:0==t.showTutorial,backgroundColor:"white",bottom:""},on:{next:function(e){t.showTutorial++},cancel:function(e){t.showTutorial=-1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Lecture Info ")]},proxy:!0},{key:"explanation",fn:function(){return[t._v(" This displays information about the lecture you are currently in. ")]},proxy:!0}],null,!1,1847989795)},[null!==t.lectureInfo?o("LectureInfo",{attrs:{lectureInfo:t.lectureInfo}}):t._e()],1),o("TutorialDisplay",{attrs:{show:1==t.showTutorial,backgroundColor:"white",bottom:""},on:{next:function(e){t.showTutorial++},cancel:function(e){t.showTutorial=-1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Understanding Score ")]},proxy:!0},{key:"explanation",fn:function(){return[t._v(" Move this slider to rate how well you understand the content being presented. ")]},proxy:!0}],null,!1,2216860651)},[o("div",{staticClass:"text-center headline mb-2",staticStyle:{height:"2em"},style:{color:t.color},attrs:{id:"understanding"}},[o("div",{attrs:{id:"understandingText"}},[t._v(t._s(t.understanding))]),t.understanding?t._e():o("img",{staticStyle:{width:"2em",height:"2em"},attrs:{src:n("0a12")}})]),o("UnderstandingSlider",{staticClass:"mb-4",attrs:{min:0,max:t.sliderMax,throttleDelay:t.throttleDelay},on:{updateUnderstanding:t.updateUnderstanding},model:{value:t.sliderValue,callback:function(e){t.sliderValue=e},expression:"sliderValue"}})],1),o("TutorialDisplay",{attrs:{show:2==t.showTutorial,backgroundColor:"unset"},on:{next:function(e){t.showTutorial++},cancel:function(e){t.showTutorial=-1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Ask questions ")]},proxy:!0},{key:"explanation",fn:function(){return[t._v(" Click here to ask questions. ")]},proxy:!0}],null,!1,2856102843)},[o("AskQuestionDialog",{staticClass:"mt-8 mb-12",on:{askQuestion:t.askQuestion},model:{value:t.showQuestionDialog,callback:function(e){t.showQuestionDialog=e},expression:"showQuestionDialog"}})],1),o("TutorialDisplay",{attrs:{show:3==t.showTutorial,backgroundColor:"white",bottom:""},on:{next:function(e){t.showTutorial++},cancel:function(e){t.showTutorial=-1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Questions list ")]},proxy:!0},{key:"explanation",fn:function(){return[t._v(" Questions asked by other students will appear here. Use the buttons on the right to indicate whether or not you have the same question. ")]},proxy:!0}],null,!1,3141542558)},[o("v-expand-transition",[0!==t.displayedQuestions.length?o("v-card",{attrs:{tile:""}},[o("v-list",{attrs:{dense:"",subheader:""}},[o("v-subheader",[t._v(" Questions asked by others "),o("v-btn",{staticStyle:{right:"0"},attrs:{text:"",rounded:"",absolute:"",color:"error"},on:{click:t.dismissAllQuestions}},[t._v("Dismiss All")])],1),o("transition-group",{attrs:{name:t.listAction}},t._l(t.displayedQuestions,(function(e,n){return o("v-list-item",{key:e.question_uid},[o("v-list-item-content",[t._v(" "+t._s(e.question)+" ")]),o("v-list-item-action",[o("v-btn",{staticClass:"mr-1",attrs:{icon:"",color:e.upvoted?"green lighten-3":""},on:{click:function(e){return t.upvoteQuestion(n)}}},[o("v-icon",[t._v(t._s(e.upvoted?"mdi-arrow-up-bold":"mdi-arrow-up-bold-outline"))])],1),o("v-btn",{attrs:{icon:"",color:e.dismissed?"error":""},on:{click:function(e){return t.dismissQuestion(n)}}},[o("v-icon",[t._v("mdi-close-thick")])],1)],1)],1)})),1)],1)],1):t._e()],1)],1),o("v-spacer"),o("TutorialDisplay",{attrs:{show:4==t.showTutorial,backgroundColor:"white",top:""},on:{next:function(e){t.showTutorial=-1},cancel:function(e){t.showTutorial=-1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Help ")]},proxy:!0},{key:"explanation",fn:function(){return[t._v(" Click here to view this tutorial again. ")]},proxy:!0}],null,!1,2423805453)},[o("v-btn",{attrs:{bottom:"",text:"",block:"",color:"info"},on:{click:function(e){t.showTutorial=0}}},[t._v(" Help! ")])],1)],1)])],1)],1):t._e()],1)},Ct=[],St=(n("a4d3"),n("e01a"),n("d28b"),n("99af"),n("a434"),n("3ca3"),n("ddb0"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"slider-container",staticClass:"slider-container",attrs:{tabindex:"0"},on:{touchstart:t.moveThumbToTouch,touchmove:t.moveThumbToTouch,touchend:t.touchEnd,mousedown:t.startDrag,click:t.moveThumbToMouse}},[n("div",{ref:"slider",staticClass:"slider-bar"}),n("v-img",{ref:"slider-thumb",staticClass:"slider-thumb",style:t.thumbStyle,attrs:{src:t.thumbSrc,transition:"scale-transition",rel:"preload"}}),t._l(t.max-1,(function(e){return n("div",{key:e,staticClass:"slider-tick",style:t.getTickStyle(e)})}))],2)}),Vt=[],It=(n("a9e3"),{name:"UnderstandingSlider",props:{value:Number,min:Number,max:Number,throttleDelay:Number},data:function(){return{dragging:!1,faces:{sad:n("0a12"),meh:n("ec33"),happy:n("2792"),wow:n("39cf")},lastValueSent:this.value,lastValueSentTime:(new Date).getTime(),timeout:null}},computed:{percentage:function(){return this.getPercentageFromValue(this.value)},thumbSrc:function(){return this.dragging?this.faces.wow:this.valueInRange(0,25)?this.faces.sad:this.valueInRange(26,65)?this.faces.meh:this.valueInRange(66,100)?this.faces.happy:void 0},thumbStyle:function(){"background-image: url(".concat(this.thumbSrc,");");var t="left: calc(".concat(this.percentage,"% - 0.75em);");return t},range:function(){return this.max-this.min}},mounted:function(){window.addEventListener("mousemove",this.doDrag),window.addEventListener("mouseup",this.stopDrag)},destroyed:function(){window.removeEventListener("mousemove",this.doDrag),window.removeEventListener("mouseup",this.stopDrag)},methods:{startDrag:function(t){this.dragging=!0},doDrag:function(t){this.dragging&&this.moveThumb(t.x)},stopDrag:function(t){this.dragging=!1,this.updateUnderstanding()},touchEnd:function(){this.dragging=!1,this.updateUnderstanding()},moveThumbToMouse:function(t){this.moveThumb(t.x)},moveThumbToTouch:function(t){this.dragging=!0,this.moveThumb(t.touches[0].clientX)},moveThumb:function(t){var e=this.$refs["slider"].getBoundingClientRect(),n=e.left,o=e.width/this.max,i=Math.round((t-n)/o);i>=this.max?this.updateValue(this.max):i<=this.min?this.updateValue(this.min):this.updateValue(i)},getTickStyle:function(t){return"left: ".concat(this.getPercentageFromValue(t),"%")},getPercentageFromValue:function(t){return t/(this.max-this.min)*100},inRange:function(t,e,n){return t>=e&&t<=n},valueInRange:function(t,e){return this.inRange(this.value,this.min+t/100*this.range,this.min+e/100*this.range)},updateValue:function(t){t!==this.value&&(t>this.max?t=this.max:t<this.min&&(t=this.min),this.$emit("input",+t))},updateUnderstanding:function(){var t=this,e=(new Date).getTime(),n=Math.abs(e-this.lastValueSentTime),o=0;n<this.throttleDelay&&(o=this.throttleDelay-n),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout((function(){t.lastValueSent!==t.value&&(t.lastValueSent=t.value,t.lastValueSentTime=(new Date).getTime(),t.$emit("updateUnderstanding"))}),o)}}}),qt=It,At=(n("73be"),Object(p["a"])(qt,St,Vt,!1,null,"cec9d236",null)),Ut=At.exports;k()(At,{VImg:ut["a"]});var $t=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-row",{attrs:{align:"center",justify:"center"}},[o("AutoSnackbar",{attrs:{text:t.error,color:"error"}}),o("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"12"}},[o("div",{staticClass:"container white--text"},[o("div",{staticClass:"display-4 text-center"},[t._v(t._s(t.face))]),o("div",{staticClass:"display-2 mb-2"},[t._v(" You do not appear to be signed in...")]),o("ButtonWithImage",{attrs:{src:n("439d"),text:"Continue with Google",color:"white",dark:!1},on:{click:t.signInGoogle}})],1)])],1)},Dt=[],Ot={name:"NotSignedIn",components:{ButtonWithImage:lt,AutoSnackbar:S},data:function(){return{face:"😐",error:""}},methods:{signInGoogle:function(){var t=this;this.error="",Q().then((function(e){t.face="😍"})).catch((function(e){t.error="There was an error signing in! Please try again later."}))}}},Rt=Ot,jt=(n("a17b"),Object(p["a"])(Rt,$t,Dt,!1,null,"0bc7dace",null)),Et=jt.exports;k()(jt,{VCol:vt["a"],VRow:wt["a"]});var Qt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ask-question-container"},[n("v-btn",{staticClass:"ask-btn",class:{disabled:t.disabled},attrs:{fab:"",color:"#65bb6aff",dark:""},on:{click:t.click}},[n("v-icon",[t._v(t._s(t.value?"mdi-send":"mdi-comment-question"))])],1),n("v-expand-transition",[n("v-card",{directives:[{name:"show",rawName:"v-show",value:t.value,expression:"value"}],attrs:{color:"#aed581ff"}},[n("v-card-text",[n("form",{on:{submit:t.askQuestion}},[n("v-text-field",{ref:"textField",attrs:{label:"Ask a question","hide-details":"true",autocomplete:"off","solo-inverted":"",clearable:"",dark:""},on:{blur:t.onBlur},model:{value:t.question,callback:function(e){t.question=e},expression:"question"}})],1)])],1)],1)],1)},Bt=[],Lt={name:"AskQuestionDialog",props:{value:{type:Boolean,required:!0}},data:function(){return{question:""}},computed:{disabled:function(){return this.value&&!this.question}},methods:{onBlur:function(t){!this.question&&this.value&&this.$emit("input",!1)},click:function(t){var e=this;this.value?this.askQuestion(t):(this.$emit("input",!0),this.$nextTick((function(){return e.$refs.textField.focus()})))},askQuestion:function(t){t.preventDefault(),this.question&&(this.$emit("askQuestion",this.question),this.question="",this.$emit("input",!1))}}},Ft=Lt,Pt=(n("6447"),n("132d")),Nt=Object(p["a"])(Ft,Qt,Bt,!1,null,"7fea8e9e",null),Ht=Nt.exports;k()(Nt,{VBtn:x["a"],VCard:pt["a"],VCardText:mt["b"],VExpandTransition:bt["a"],VIcon:Pt["a"],VTextField:_t["a"]});var Jt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticStyle:{position:"relative"}},[n("div",{style:{"background-color":t.show?t.backgroundColor:"unset","z-index":t.show?4:0,position:t.show?"relative":"static","border-radius":t.show?"5px":"0px","pointer-events":t.show?"none":"unset"}},[t._t("default")],2),t.show?n("v-card",{staticClass:"tutorial-card",style:{top:t.bottom?"calc(100% + "+t.spacing+")":"unset",bottom:t.top?"calc(100% + "+t.spacing+")":"unset"},attrs:{raised:""}},[n("v-card-title",[t._t("title")],2),n("v-card-text",[t._t("explanation")],2),n("v-card-actions",[n("v-btn",{attrs:{text:""},on:{click:function(e){return t.$emit("cancel")}}},[t._v("Cancel")]),n("v-btn",{attrs:{text:"",color:"info"},on:{click:function(e){return t.$emit("next")}}},[t._v("Next")])],1)],1):t._e()],1),t.show?n("div",{staticClass:"tutorial-overlay"}):t._e()])},Mt=[],Wt={name:"TutorialDisplay",props:{show:{type:Boolean,required:!0},backgroundColor:{type:String,default:"white"},spacing:{type:String,default:"10px"},bottom:{type:Boolean,default:!1},top:{type:Boolean,default:!1}}},zt=Wt,Gt=(n("9a49"),Object(p["a"])(zt,Jt,Mt,!1,null,"fea84d4a",null)),Xt=Gt.exports;k()(Gt,{VBtn:x["a"],VCard:pt["a"],VCardActions:mt["a"],VCardText:mt["b"],VCardTitle:mt["c"]});var Kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"display-2 font-weight-regular mb-2"},[t._v(t._s(t.lectureInfo.class_name))]),n("div",{staticClass:"ml-2 mb-4",staticStyle:{"border-left-style":"solid","border-left-width":"2px",position:"relative"}},[n("div",{staticClass:"headline ml-2 font-weight-light"},[t._v(t._s(t.lectureInfo.lecture_name))]),n("div",{staticClass:"overline ml-4"},[t._v(t._s(t.lectureStartTime))]),n("v-tooltip",{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[n("v-avatar",t._g({staticStyle:{position:"absolute",right:"0",top:"0"}},o),[n("UserAvatarContent",{attrs:{user:t.lectureInfo.creator}})],1)]}}])},[n("span",[t._v(t._s(t.lectureInfo.creator.first_name+" "+t.lectureInfo.creator.last_name))])])],1)])},Yt=[],Zt={name:"LectureInfo",props:{lectureInfo:{type:Object,required:!0}},components:{UserAvatarContent:v},computed:{lectureStartTime:function(){var t=new Date(this.lectureInfo.start_time);return t.toLocaleString()}}},te=Zt,ee=n("3a2f"),ne=Object(p["a"])(te,Kt,Yt,!1,null,null,null),oe=ne.exports;k()(ne,{VAvatar:H["a"],VTooltip:ee["a"]});var ie={name:"Room",props:{id:{type:String}},data:function(){return{sliderValue:5,sliderMax:10,throttleDelay:1e3,levels:["I'm lost","I'm confused","I kinda get it","I think I get it","I completely understand"],colors:["rgb(240, 53, 36)","rgb(255, 183, 0)","rgb(250, 225, 0)","rgb(126, 196, 4)","#B2FF59"],color:"",socket:null,lectureInfo:null,questions:[],showQuestionDialog:!1,showTutorial:-1,listAction:"list-dismiss",error:"",tutorialQuestions:[{type:"new_question",question_uid:"tutorial",question:"Why is the sky blue?"}],testLectureInfo:{type:"lecture_info",uid:"cqywa",start_time:1588889535833,class_name:"AP Calc BC",lecture_name:"Lecture A83",creator:{email:"ajpat1234@gmail.com",first_name:"Arjun",last_name:"Patrawala",photo:"https://lh3.googleusercontent.com/a-/AOh14GhLdwXOcIH2W9KoJdVZTTDkxu-TCJesb3_HRqDOpQ"}},testQuestions:[{type:"new_question",question_uid:"X8udiUQ8fN6F27C",question:"What is the relationship between voltage and a Gaussian surface?",upvoted:!1},{type:"new_question",question_uid:"asdf",question:"What is 10 + 10?",upvoted:!1},{type:"new_question",question_uid:"asdf",question:"Why?",upvoted:!1},{type:"new_question",question_uid:"asdf",question:"Why not?",upvoted:!1},{type:"new_question",question_uid:"asdf",question:"How do you ask a question?",upvoted:!1}],testing:!1}},watch:{authUser:{immediate:!0,handler:function(t){t&&!this.socket&&this.setUpSocketConnection()}}},created:function(){this.testing&&(this.lectureInfo=this.testLectureInfo,this.questions=this.testQuestions)},destroyed:function(){this.socket.close()},components:{UnderstandingSlider:Ut,NotSignedIn:Et,AutoSnackbar:S,AskQuestionDialog:Ht,UserAvatarContent:v,TutorialDisplay:Xt,LectureInfo:oe},computed:Object(r["a"])({},Object(c["b"])(["authUser","token"]),{understanding:function(){var t=Math.floor((+this.sliderValue+1)/2)-1;return this.color=t<0?"rgb(0,0,0)":this.colors[t],t<0?"":this.levels[t]},displayedQuestions:function(){return 3===this.showTutorial&&0===this.questions.length?this.tutorialQuestions:this.questions}}),methods:{setUpSocketConnection:function(){var t=this;this.socket||(this.socket=new WebSocket("wss://api.intellecture.app/lectures/live/student/".concat(this.id)),this.socket.onopen=function(t){},this.socket.onmessage=function(e){var n=JSON.parse(e.data);switch(n.type){case"error":"does_not_exist"===n.error||"lecture_not_initialized"===n.error?t.testing||t.$router.replace({name:"Join",params:{error:"The lecture you tried to join does not exist!"}}):"already_ended"===n.error?t.$router.replace({name:"Join",params:{error:"The lecture you tried to join has already ended!"}}):"already_joined"===n.error?t.$router.replace({name:"Join",params:{error:"You already have that lecture open in another tab!"}}):t.$router.replace({name:"Join",params:{error:"Could not join lecture!"}});break;case"lecture_info":t.lectureInfo=n,t.updateUnderstanding();var o=0;R("/lectures/live/student/".concat(t.id,"/questions?after=").concat(o)).then((function(e){if(!e.success)throw e;t.updateQuestions(e.data)})).catch((function(e){console.log(e),t.error="There was an error fetching questions!"}));break;case"new_question":t.listAction="list-dismiss",t.pushQuestion(n);break;case"end_lecture":t.$router.replace({name:"Feedback",params:{fromLectureEnd:!0}});break}},this.socket.onclose=function(t){},this.socket.onerror=function(t){})},updateUnderstanding:function(){var t=this,e=this.sliderValue;this.socket.readyState===this.socket.OPEN&&j("/lectures/live/student/".concat(this.id,"/score"),{score:e}).catch((function(e){t.error="There was an error updating your score!"}))},askQuestion:function(t){var e=this;j("/lectures/live/student/".concat(this.id,"/question"),{question:t}).then((function(){})).catch((function(t){e.error="There was an error submitting your question!"}))},upvoteQuestion:function(t){var e=this,n=this.questions[t].question_uid;this.questions[t].upvoted||j("/lectures/live/student/".concat(this.id,"/upvote"),{question_uid:n}).then((function(){e.questions[t].upvoted=!0,e.listAction="list-upvote",setTimeout((function(){e.questions.splice(t,1)}),150)})).catch((function(t){e.error="There was an error upvoting the question!"}))},dismissQuestion:function(t){var e=this;this.questions[t].dismissed=!0,this.listAction="list-dismiss",setTimeout((function(){e.questions.splice(t,1)}),150)},dismissAllQuestions:function(){this.questions=[]},updateQuestions:function(t){var e=!0,n=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var r=i.value;this.pushQuestion(r)}}catch(s){n=!0,o=s}finally{try{e||null==a.return||a.return()}finally{if(n)throw o}}},pushQuestion:function(t){t.creator_uid!==this.authUser.uid&&this.questions.push(Object(r["a"])({},t,{upvoted:!1,dismissed:!1}))}}},ae=ie,re=(n("ae4f"),n("1800")),se=n("a797"),ue=n("e0c7"),ce=Object(p["a"])(ae,Tt,Ct,!1,null,"3850fe0b",null),le=ce.exports;k()(ce,{VBtn:x["a"],VCard:pt["a"],VCol:vt["a"],VContainer:gt["a"],VExpandTransition:bt["a"],VIcon:Pt["a"],VList:W["a"],VListItem:z["a"],VListItemAction:re["a"],VListItemContent:G["a"],VOverlay:se["a"],VRow:wt["a"],VSpacer:K["a"],VSubheader:ue["a"]});var de=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",[n("AutoSnackbar",{attrs:{text:t.error,color:"error"}}),n("FeedbackForm",{attrs:{message:"The lecture has ended",questions:t.questions,redirectToPage:"Join"},on:{updateOverallRating:t.updateOverallRating,updateTechDiff:t.updateTechDiff,updateAdditionalInfo:t.updateAdditionalInfo}})],1)},he=[],fe=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("span",[o("AutoSnackbar",{attrs:{text:t.message,color:"info"}}),o("v-container",{staticClass:"text-center fill-height",staticStyle:{position:"relative"}},[t.submitted?[o("div",{staticClass:"display-2 font-weight-light mb-2"},[t._v("Thank you so much for your feedback! We really appreciate it.")]),o("img",{attrs:{src:n("1ae4")}})]:[o("v-row",{staticClass:"fill-height",attrs:{justify:"center"}},[o("v-col",{staticClass:"mt-8",style:{position:"relative",top:t.overallTop,left:"0",right:"0",transition:"top .3s"},attrs:{cols:"12",lg:"8",md:"10",xl:"6"}},[o("div",{staticClass:"display-2 font-weight-light mb-2",class:[t.$vuetify.breakpoint.smAndUp?"display-2":"display-1"]},[t._v("How was your experience?")]),o("v-rating",{staticClass:"mb-8",attrs:{hover:"",size:t.ratingSizeBig,color:"yellow darken-1","background-color":"grey lighten-1"},on:{input:t.changeOverallRating},model:{value:t.overallRating,callback:function(e){t.overallRating=e},expression:"overallRating"}}),o("v-fade-transition",[o("div",{directives:[{name:"show",rawName:"v-show",value:0!==t.overallRating,expression:"overallRating !== 0"}]},[t.overallRating<=2?o("div",{class:[t.$vuetify.breakpoint.smAndUp?"display-1":"headline"]},[t._v("We're sorry to hear that :(")]):o("div",{class:[t.$vuetify.breakpoint.smAndUp?"display-1":"headline"]},[t._v("Thank you for your feedback.")]),o("div",{class:[t.$vuetify.breakpoint.smAndUp?"display-1":"headline"]},[t._v("Care to tell us more?")]),o("div",{staticClass:"subtitle-1 mb-8"},[t._v("Fill out as little or as much as you want")]),o("ShowMoreContainer",{staticClass:"mb-4",attrs:{initHeight:"10rem"}},[t._l(t.questions,(function(e,n){return o("div",{key:n,staticClass:"mb-2"},[o("div",{staticClass:"font-weight-light",class:[t.$vuetify.breakpoint.smAndUp?"display-1":"headline"]},[t._v(t._s(e.text))]),o("v-rating",{attrs:{hover:"",size:t.ratingSize,color:"yellow darken-1","background-color":"grey lighten-1"},on:{input:function(o){return e.handler(t.questionsState[n].rating)}},model:{value:t.questionsState[n].rating,callback:function(e){t.$set(t.questionsState[n],"rating",e)},expression:"questionsState[i].rating"}})],1)})),o("div",{staticClass:"font-weight-light",class:[t.$vuetify.breakpoint.smAndUp?"display-1":"headline"]},[t._v("Did you experience any technical difficulties?")]),o("v-radio-group",{staticClass:"text-center d-inline-block",attrs:{row:""},model:{value:t.techDiff,callback:function(e){t.techDiff=e},expression:"techDiff"}},[o("v-radio",{attrs:{label:"Yes",value:"yes"}}),o("v-radio",{attrs:{label:"No",value:"no"}})],1),o("v-expand-transition",[o("v-textarea",{directives:[{name:"show",rawName:"v-show",value:"yes"==t.techDiff,expression:"techDiff == 'yes'"}],attrs:{placeholder:"Please explain...",solo:""},on:{blur:t.submitTechDiff},model:{value:t.techDiffText,callback:function(e){t.techDiffText=e},expression:"techDiffText"}})],1),o("div",{staticClass:"font-weight-light mb-2",class:[t.$vuetify.breakpoint.smAndUp?"display-1":"headline"]},[t._v("Anything else?")]),o("v-textarea",{attrs:{placeholder:"Tell us here...",solo:""},on:{blur:t.submitAdditionalInfo},model:{value:t.additionalInfoText,callback:function(e){t.additionalInfoText=e},expression:"additionalInfoText"}}),o("v-btn",{attrs:{block:""},on:{click:t.submit}},[t._v(" I'm done ")])],2),o("a",{attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.goHome(e)}}},[t._v("No thanks")])],1)])],1)],1)]],2)],1)},pe=[],me=(n("d81d"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pa-1",style:{"max-height":t.maxHeight,overflow:"hidden",position:"relative",transition:"max-height 1s"}},[t._t("default"),t.expand?t._e():n("v-btn",{staticClass:"show-more-btn",attrs:{text:"",color:"black"},on:{click:function(e){t.expand=!0}}},[n("strong",[t._v("Show more")])])],2)}),ve=[],ge={name:"ShowMoreContainer",props:{initHeight:{type:String,default:"10rem"}},data:function(){return{expand:!1}},computed:{maxHeight:function(){return this.expand?"1000px":this.initHeight}}},be=ge,ye=(n("86ca"),Object(p["a"])(be,me,ve,!1,null,"e3e79b10",null)),we=ye.exports;k()(ye,{VBtn:x["a"]});var _e={name:"FeedbackForm",props:{message:{type:String,default:""},questions:{type:Array,required:!0},redirectToPage:{type:String,required:!0}},components:{AutoSnackbar:S,ShowMoreContainer:we},created:function(){this.questionsState=this.questions.map((function(t){return{rating:0}}))},data:function(){return{overallRating:0,techDiff:!1,techDiffText:"",additionalInfoText:"",questionsState:[],submitted:!1}},computed:{overallTop:function(){return 0===this.overallRating?"30%":"0%"},overallPosition:function(){return 0===this.overallRating?"absolute":"relative"},ratingSize:function(){var t=this.$vuetify.breakpoint.name;return"xs"===t?36:48},ratingSizeBig:function(){var t=this.$vuetify.breakpoint.name;return"xs"===t?42:64}},methods:{changeOverallRating:function(){this.$emit("updateOverallRating",this.overallRating)},submitTechDiff:function(){this.$emit("updateTechDiff",this.techDiffText)},submitAdditionalInfo:function(){this.$emit("updateAdditionalInfo",this.additionalInfoText)},submit:function(){this.submitted=!0,console.log("submit!!"),this.$router.replace({name:this.redirectToPage,params:{info:"Thank you so much for your feedback! We really appreciate it."}})},goHome:function(){this.$router.replace({name:this.redirectToPage})}}},ke=_e,xe=n("67b6"),Te=n("43a6"),Ce=n("1d4d"),Se=n("a844"),Ve=Object(p["a"])(ke,fe,pe,!1,null,null,null),Ie=Ve.exports;k()(Ve,{VBtn:x["a"],VCol:vt["a"],VContainer:gt["a"],VExpandTransition:bt["a"],VFadeTransition:bt["b"],VRadio:xe["a"],VRadioGroup:Te["a"],VRating:Ce["a"],VRow:wt["a"],VTextarea:Se["a"]});var qe={name:"Feedback",props:{fromLectureEnd:{type:Boolean,default:!1}},components:{AutoSnackbar:S,FeedbackForm:Ie},created:function(){this.fromLectureEnd||this.$router.replace({name:"Join"})},data:function(){var t=this;return{error:"",id:0,questions:[{text:"How easy was it to use Intellecture?",handler:function(e){t.updateEaseOfUseRating(e)}},{text:"How helpful was it to your learning?",handler:function(e){t.updateHelpfulnessRating(e)}}]}},computed:Object(r["a"])({},Object(c["b"])(["authUser"])),methods:{updateOverallRating:function(t){var e=this;console.log("change overall rating to ",t),this.error="",""==this.id?j("/feedback/create",{stars:t}).then((function(t){if(!t.success)throw t;e.id=t.data.id,console.log(e.id+" posted")})).catch((function(t){e.error="There was a problem trying to submit your feedback"})):j("/feedback/update",{id:this.id,stars:t}).then((function(t){if(!t.success)throw t})).catch((function(t){e.error="There was a problem trying to submit your feedback"}))},updateEaseOfUseRating:function(t){var e=this;console.log("change ease of use rating to ",t),this.error="",j("/feedback/update",{id:this.id,diff_stars:t}).then((function(t){if(!t.success)throw t})).catch((function(t){e.error="There was a problem trying to submit your feedback"}))},updateHelpfulnessRating:function(t){var e=this;console.log("change helpfulness rating to ",t),this.error="",j("/feedback/update",{id:this.id,helpful_stars:t}).then((function(t){if(!t.success)throw t})).catch((function(t){e.error="There was a problem trying to submit your feedback"}))},updateTechDiff:function(t){var e=this;console.log("change tech diff to ",t),this.error="",j("/feedback/update",{id:this.id,tech_comments:t}).then((function(t){if(!t.success)throw t})).catch((function(t){e.error="There was a problem trying to submit your feedback"}))},updateAdditionalInfo:function(t){var e=this;console.log("change additional info to ",t),this.error="",j("/feedback/update",{id:this.id,comments:t}).then((function(t){if(!t.success)throw t})).catch((function(t){e.error="There was a problem trying to submit your feedback"}))}}},Ae=qe,Ue=Object(p["a"])(Ae,de,he,!1,null,null,null),$e=Ue.exports;o["a"].use(et["a"]);var De=!0,Oe=[{path:"/",name:"Join",component:xt,props:!0},{path:"/room/:id",name:"Room",component:le,props:!0},{path:"/feedback",name:"Feedback",component:$e,props:!0},{path:"*",redirect:"/"}],Re=new et["a"]({mode:De?"hash":"history",base:"/",routes:Oe}),je=Re,Ee=n("f309");o["a"].use(Ee["a"]);var Qe=new Ee["a"]({});n("aede");u.a.initializeApp({apiKey:"AIzaSyCcVmiE6jRuOK-XrD2TeGHVAhRUamq80jU",authDomain:"intellecture-6b3e6.firebaseapp.com",databaseURL:"https://intellecture-6b3e6.firebaseio.com",projectId:"intellecture-6b3e6",storageBucket:"intellecture-6b3e6.appspot.com",messagingSenderId:"462381253872",appId:"1:462381253872:web:fc0f440c35a1c920026e35"}),u.a.auth().setPersistence(u.a.auth.Auth.Persistence.NONE),o["a"].config.productionTip=!1,new o["a"]({router:je,store:D,vuetify:Qe,render:function(t){return t(tt)}}).$mount("#app")},6447:function(t,e,n){"use strict";var o=n("a74e"),i=n.n(o);i.a},"653b":function(t,e,n){},"73be":function(t,e,n){"use strict";var o=n("7c0e"),i=n.n(o);i.a},"7c0e":function(t,e,n){},"86ca":function(t,e,n){"use strict";var o=n("c81f"),i=n.n(o);i.a},"8a23":function(t,e,n){},"9a49":function(t,e,n){"use strict";var o=n("4e6e"),i=n.n(o);i.a},a17b:function(t,e,n){"use strict";var o=n("a701"),i=n.n(o);i.a},a307:function(t,e,n){"use strict";var o=n("5080"),i=n.n(o);i.a},a701:function(t,e,n){},a74e:function(t,e,n){},ae13:function(t,e,n){},ae4f:function(t,e,n){"use strict";var o=n("653b"),i=n.n(o);i.a},aede:function(t,e,n){},c81f:function(t,e,n){},d4fa:function(t,e,n){},e56f:function(t,e,n){t.exports=n.p+"img/google_logo_white.eac46b11.svg"},ec33:function(t,e,n){t.exports=n.p+"img/meh.55eded28.svg"},f5de:function(t,e,n){t.exports=n.p+"img/logo_text.f3690fe6.svg"}});
//# sourceMappingURL=app.6404d874.js.map